{"version":3,"sources":["aws-exports.js","ChatListItem.js","ChatList.js","SuperChatBot.js","App.js","serviceWorker.js","index.js"],"names":["awsmobile","aws_project_region","aws_content_delivery_bucket","aws_content_delivery_bucket_region","aws_content_delivery_url","ChatListItem","makeStyles","theme","root","width","maxWidth","backgroundColor","palette","background","paper","inline","display","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","react_default","a","createElement","ListItem","alignItems","ListItemAvatar","Avatar","alt","src","avatarImage","ListItemText","primary","primaryText","secondary","Fragment","secondaryText","Component","useStyles","height","overflowY","scrollMarginTop","ChatList","_this","classes","List","id","className","chatMessages","map","message","index","src_ChatListItem","source","key","click","deleteMessageHandler","AWS","require","SuperChatBot","state","updateChatList","msg","messageList","toConsumableArray","push","setState","list","document","getElementById","scrollTop","scrollHeight","responseCallback","err","data","console","log","stack","buttonClickHandler","Auth","configure","lexruntime","config","credentials","params","botAlias","botName","inputText","userId","requestAttributes","sessionAttributes","postText","process","accessKeyId","secretAccessKey","LexRuntime","region","confirmation","alert","JSON","stringify","_this$props","title","onComplete","src_ChatList","userName","onClick","defaultProps","undefined","clearOnComplete","Amplify","awsconfig","myTheme","objectSpread","AmplifyTheme","sectionHeader","App","src_SuperChatBot_0","welcomeMessage","Boolean","window","location","hostname","match","ReactDOM","render","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.ce3bf3d4.chunk.js","sourcesContent":["// WARNING: DO NOT EDIT. This file is automatically generated by AWS Amplify. It will be overwritten.\n\nconst awsmobile =  {\n    \"aws_project_region\": \"us-east-1\",\n    \"aws_content_delivery_bucket\": \"superchatbot-blockstack-app\",\n    \"aws_content_delivery_bucket_region\": \"us-east-1\",\n    \"aws_content_delivery_url\": \"https://d7s5re1z5rti1.cloudfront.net\"\n};\n\n\nexport default awsmobile;\n","import React, { Component } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n}));\r\n\r\nclass ChatListItem extends Component {\r\n\r\n    constructor(props){\r\n        super(props);   \r\n    }\r\n\r\n    render(){\r\n        return (               \r\n            <ListItem alignItems=\"flex-start\">\r\n                <ListItemAvatar>\r\n                    <Avatar alt={this.props.alt}  src={this.props.avatarImage} />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                primary={this.props.primaryText}\r\n                secondary={\r\n                    <React.Fragment>                \r\n                    {this.props.secondaryText}\r\n                    </React.Fragment>\r\n                }\r\n                />\r\n            </ListItem>  \r\n            )\r\n        }\r\n}\r\n\r\nexport default ChatListItem;","import React, { Component } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport ChatListItem from './ChatListItem';\r\nimport zIndex from '@material-ui/core/styles/zIndex';\r\nimport List from '@material-ui/core/List';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n    maxWidth: 360,\r\n    backgroundColor: theme.palette.background.paper,\r\n    height: 300,\r\n    overflowY: 'auto',\r\n    scrollMarginTop:300\r\n  },\r\n  inline: {\r\n    display: 'inline',\r\n  },\r\n}));\r\n\r\nfunction ChatList (props){  \r\n \r\n  let classes = useStyles();\r\n    return (\r\n        <div>\r\n           <List id=\"chatList\" className={classes.root}  >\r\n          {props.chatMessages.map((message, index) => {\r\n\r\n            return <ChatListItem \r\n                    primaryText = {message.source} \r\n                    secondaryText={message.message}\r\n                    key = {index}\r\n                    click={() => this.deleteMessageHandler(index)}                  \r\n                    />\r\n          })}\r\n        </List>\r\n        </div>        \r\n      \r\n    );\r\n}\r\n\r\n\r\nexport default ChatList;","import React, {Component} from 'react';\r\nimport './SuperChatBot.css';\r\nimport ChatList from './ChatList';\r\n\r\nimport Amplify, { Auth } from 'aws-amplify';\r\nlet AWS = require('aws-sdk');\r\n\r\n\r\nclass SuperChatBot extends Component{\r\nconstructor(props){\r\n    super(props);   \r\n    console.log('process.env.accessKeyId', process.env.accessKeyId);\r\n    console.log('process.env.secretAccessKey', process.env.secretAccessKey);\r\n    // this.lexruntime = new AWS.LexRuntime({accessKeyId:process.env.accessKeyId,\r\n    //                                         secretAccessKey :process.env.secretAccessKey,\r\n    //                                         region:this.props.region});\r\n    this.lexruntime = new AWS.LexRuntime({accessKeyId:this.props.accessKeyId ,\r\n                                                secretAccessKey :this.props.secretAccessKey,\r\n                                                region:this.props.region});\r\n    const currentConfig = Auth.configure();\r\n    //this.lexruntime = new AWS.LexRuntime();\r\n     console.log('region = ', this.lexruntime.credentials); \r\n     \r\n}\r\n\r\nstate={\r\n    chatMessages:[{source:\"bot\",message:\"Hello\"}, {source:\"user\",message:\"Good Morning\"}]\r\n}\r\n\r\nhandleComplete(err, confirmation) {\r\n    if (err) {\r\n      alert('Bot conversation failed')\r\n      return;\r\n    }\r\n\r\n    alert('Success: ' + JSON.stringify(confirmation, null, 2));\r\n    return 'Trip booked. Thank you! what would you like to do next?';\r\n  }\r\n\r\n\r\n  updateChatList =(msg) =>{\r\n    const messageList = [...this.state.chatMessages];\r\n    messageList.push(msg);\r\n    this.setState({\r\n        chatMessages: messageList\r\n    }\r\n    );\r\n    let list = document.getElementById('chatList');\r\n    list.scrollTop =list.scrollHeight;\r\n  }\r\n\r\n  responseCallback=(err,data) =>{\r\n    if (err) console.log(err, err.stack); // an error occurred\r\n    else\r\n    {\r\n      console.log(this.state.chatMessages);           // successful response\r\n      this.updateChatList({source:\"bot\",message: data.message});\r\n     \r\n    } \r\n  }\r\n\r\nbuttonClickHandler =()=>{\r\n    const currentConfig = Auth.configure();\r\n    console.log(this.lexruntime.config.credentials);\r\n    console.log(this.state.chatMessages);\r\n    var params = {\r\n      botAlias: 'prod', /* required */\r\n      botName: 'TableTrick', /* required */\r\n      inputText: 'start', /* required */\r\n      userId: 'sj112233', /* required */\r\n      requestAttributes: {},     sessionAttributes: {   }\r\n    };\r\n    this.updateChatList({source:\"user\",message: params.inputText});\r\n    this.lexruntime.postText(params, (err,data)=>this.responseCallback(err,data));\r\n    //let list = document.getElementById('chatList');\r\n  \r\n        \r\n        \r\n      } \r\n   \r\n  \r\n  \r\n\r\nrender() {\r\n    const { title, theme, onComplete } = this.props;\r\n    return (\r\n       <div>           \r\n             <ChatList  botName=\"TableTrick\" userName=\"SJ112233\" chatMessages={this.state.chatMessages}/>\r\n             <button onClick={this.buttonClickHandler}>Click Me</button>\r\n           \r\n       </div>\r\n\r\n    );\r\n \r\n}\r\n}\r\n\r\nSuperChatBot.defaultProps = {\r\n    title: '',\r\n    botName: '',\r\n    onComplete: undefined,\r\n    clearOnComplete: false,\r\n    accessKeyId:\"\",\r\n    secretAccessKey :\"\",\r\n    region:\"\"\r\n};\r\n\r\n\r\n\r\nexport default SuperChatBot;\r\n","import React, { Component } from 'react';\nimport Amplify, { Interactions } from 'aws-amplify';\nimport { ChatBot, AmplifyTheme } from 'aws-amplify-react';\nimport awsconfig from './aws-exports';\nimport SuperChatBot from './SuperChatBot';\n\nlet AWS = require('aws-sdk');\n\nAmplify.configure(awsconfig);\n\n// Imported default theme can be customized by overloading attributes\nconst myTheme = {\n  ...AmplifyTheme,\n  sectionHeader: {\n    ...AmplifyTheme.sectionHeader,\n    backgroundColor: '#ff6600'\n  }\n};\n\nclass App extends Component {\n\n  constructor(){  \n      super() \n     \n    }\n\n  render() {\n    console.log('Creating Chat Bot');\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1 className=\"App-title\">Welcome to ChatBot Demo</h1>\n        \n          <SuperChatBot\n            title=\"My Bot\"\n            theme={myTheme}            \n            botName=\"TableTrick\"\n            welcomeMessage=\"Welcome, how can I help you today?\"\n            accessKeyId = \"AKIAZNKLQU3VJYJIJVCD\"\n            secretAccessKey =\"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\"\n            region =\"us-east-1\"    \n          />        \n\n        </header>  \n      \n      </div>\n    );\n  }\n}\n\nexport default App;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}